<?php include ('register.php') ?>
<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Exomerry Sign Up</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="image/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet"> -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>


<!--<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">-->
<!--<style>
.text-container {
  display: inline-block;
  position: relative;
  overflow: hidden;
}
.clearBtn {
  position: absolute;
  top: 0;
  right: 5px;
  transition: right 0.2s;
  padding-top:5px;

}
.show {
  right: 5px;
  background-color:red;
}
</style>-->
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color:black;position:sticky">
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navdiv" aria-controls="navdiv" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navdiv">
		<a class="navbar-brand" href="#">Exomerry</a>
		<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
			<li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="#">Schedule</a></li>
			<li class="nav-item"><a class="nav-link" href="#">Profile</a></li>
			<li class="nav-item"><a class="nav-link" href="#">Discography</a></li>
			<li class="nav-item"><a class="nav-link" href="#">Gallery</a></li>
			<li class="nav-item"><a class="nav-link" href="#">video</a></li>
			<li class="nav-item loginSignup"><a class="nav-link" href="login.html">Login</a></li>
			<li class="nav-item loginSignup"><a class="nav-link active" href="#">Sign Up<span class="sr-only">(current)</span></a></li>
		</ul>
		<form class="form-inline my-2 my-lg-0">
			<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
		</form>
	</div>
</nav>

<br>
<h1 id="loginHeading">Come on lets be an Aeri !</h1>

  
<div class="container" id="loginDivContainer">	
	<h2 id="signUpFormHeading" class="text-center">Sign Up</h2>
		<form name="signUpForm" action="register.php" method="POST" style="width:100%" onsubmit="return validate()">
			<div class="form-group">
				<label class="form_label" for="role_select">Select Role</label>
				<select class="form-control" id="role_select" name="role" onchange="changeForm()" style="width:80%;margin-left:40px;margin-top:30px;border-radius:20px;width:80%;height:20%;padding:10px 10px 10px;font-size:18px;">
					<option value="Aeri" selected="selected">Aeri</option>
					<option value="Staff">Staff</option>
				</select>
			</div>
			<div class="input-group changeRoleForm1" style="display:block">
				<input class="input_class" type="text" name="fname" value="" id="fname_txt" placeholder=" ">
				<label class="form_label" for="fname_txt">First Name</label>
				<br><span id="errorfname" style="color:red;"></span>
			</div>
			<div class="input-group changeRoleForm1" style="display:block">
				<input class="input_class" type="text" name="lname" value="" id="lname_txt" placeholder=" ">
				<label class="form_label" for="lname_txt">Last Name</label>
				<br><span id="errorlname" style="color:red;"></span>
			</div>
			<div class="input-group changeRoleForm1" style="display:block">
				<input class="input_class" type="text" name="email" value="" id="email_txt" placeholder=" ">
				<label class="form_label" for="email_txt">Email</label>
				<br><span id="erroremail" style="color:red;"></span>
			</div>
			<div class="input-group changeRoleForm1" style="display:block">
				<input class="input_class" type="text" name="bday" value="" id="bday_txt" onclick="(this.type='date')" placeholder=" ">
				<label class="form_label" for="bday_txt">Birthday</label>
				<br><span id="errorbday" style="color:red;"></span>
			</div> 
			<div class="form-group changeRoleForm1" style="display:block"> 
				<div class="row">
					<div class="col-sm-4 radio_class">
						<div >
							<label class="radio-inline"><input type="radio" name="gender" id="radio1" value="Female">Female</label>
						</div>
					</div>
					<div class="col-sm-4 radio_class">
						<div>
							<label class="radio-inline"><input type="radio" name="gender" id="radio2" value="Male">Male</label>
						</div>
					</div>
				</div>										
			</div>
			<div class="form-group changeRoleForm1" style="display:block">					
			<!--<label for="bias" style="background-color:white">Bias :	</label><br>-->
				<a class="btn btn-outline-primary form-control" style="background-color:white;font-size:18px;width:80%;margin-left:40px;color:black" data-toggle="collapse" href="#collapseCheckbox" role="button" aria-expanded="false" aria-controls="collapseCheckbox">Click to choose Bias(es)</a> 
				<div class="container collapse" id="collapseCheckbox">	
					<div class="row">
						<div class="col-sm-6" style="margin-top:5px">
							<div class="form-check checkox_class">
								<label class="form-check-label first_chechbox"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Xiumin" id="Xiumin" onclick="uncheckAll(this)">Xiumin</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Suho" id="Suho" onclick="uncheckAll(this)">Suho</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Lay" id="Lay" onclick="uncheckAll(this)">Lay</label>
							</div> 
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Baekhyun" id="Baekhyun" onclick="uncheckAll(this)">Baekhyun</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Chen" id="Chen" onclick="uncheckAll(this)">Chen</label>
							</div>
						</div>
						<div class="col-sm-6 second_checkbox" style="margin-top:5px">
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Chanyeol" id="Chanyeol" onclick="uncheckAll(this)">Chanyeol</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="D.O" id="D.O" onclick="uncheckAll(this)">D.O</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Kai" id="Kai" onclick="uncheckAll(this)">Kai</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="Sehun" id="Sehun" onclick="uncheckAll(this)">Sehun</label>
							</div>
							<div class="form-check checkox_class">
								<label class="form-check-label"><input type="checkbox" class="form-check-input biases" name="biases[]" value="All" id="All" onclick="uncheckOthers(this)">All</label>
							</div>
						</div>
					</div>
				</div>
			</div>	
			<div class="input-group" style="display:block">
				<input class="input_class" type="text" name="username" value="" id="username_txt" placeholder=" ">
				<label class="form_label" for="username_txt">Username</label>
				<br><span id="errorusername" style="color:red;"></span>
			</div>
			<div class="input-group" style="display:block">
				<input class="input_class" type="password" name="pwd" value="" id="pwd_txt" placeholder=" ">
				<!--<span class="input-group-btn"><button class="btn btn-default"><i class="glyphicon glyphicon-eye-open"></i></button><span>-->
				<i class="fa fa-eye-slash" style="font-size:x-large;margin-top:10px;margin-left:5px" onclick="hideShow_pwd()" role="button" title="show password" id="pwdHideShowIcon"></i>
				<label class="form_label" for="pwd_txt">Password</label>
				<br><span id="errorpwd" style="color:red;"></span>
			</div>
			<div class="input-group" style="display:block">
				<input class="input_class" type="password"  name="cpwd" value="" id="cpwd_txt" placeholder=" ">
				<i class="fa fa-eye-slash" style="font-size:x-large;margin-top:10px;margin-left:5px" onclick="hideShow_cpwd()" role="button" title="show confirm password" id="cpwdHideShowIcon"></i>
				<label class="form_label" for="cpwd_txt">Confirm Password</label>
				<br><span id="errorcpwd" style="color:red;"></span>
			</div>
			<div class="text-center">
					<input type="submit" class="btn btn-primary submit_btn" value="Sign Up" name="submit" id="submit_btn">
				</div>
	</form>
		
</div>
<!--
<script>
(function(){
	'use strict';
	window.addEventListener('load',function(){
		var forms=document.getElementsByClassName('needs-validation');
		
		var validation=Array.prototype.filter.call(forms, function(form){
			form.addEventListener('submit',function(event){
				if(form.checkValidity()=== false)
				{
					event.preventDefault();
					event.stopPropagation();
				}
				form.classList.add('was-validated');
			}, false);
		});
	}, false);
})();
</script> 
-->
<!--
<script>
function checkInput(text) {

  if (text) {
    $("#clearBtn1").addClass("show");
  } else {
    $("#clearBtn1").removeClass("show");
  }

}
</script> -->

<script>
	/**  IF 'ALL' CHECKBOX IS CLICKED THEN IF OTHER CHECKBOXES WITH MEMBER NAMES ARE ALREADY CHECKED THEN THOSE MEMBER NAMED CHECKBOXES SHOULD BE UNCHECKED */
	function uncheckOthers(obj)
	{
		var bias=document.getElementsByClassName("biases");
		var checkedbias=new Array();
		
		for(var i=0; i<bias.length; i++)
		{
			if(bias[i].checked)
			{	
				if(bias[i].value=="All")
				{
					bias[i].checked=true;
					for(var j=0; j<checkedbias.length; j++)
					{
						document.getElementById(checkedbias[j]).checked=false;
					}
				}
				else
				{
					checkedbias.push(bias[i].value);
					
					for(var l=0; l<checkedbias.length; l++)
					{
						document.getElementById(checkedbias[l]).checked=false;
					}
					
				}
			}
			
		}
	}
	
	/**IF THE 'ALL' CHECKBOX IS CHECKED AND THE USER CLICKS ON ANOTHER (MEMBER NAME) CHECKBOX THEN UNCHECK THE 'ALL' CHECKBOX */
	function uncheckAll(obj)
	{
		if(document.getElementById("All").checked==true)
		{
			document.getElementById("All").checked=false;
		}
	}
	
	/**HIDE AND SHOW PASSWORD VALUE */
	function hideShow_pwd()
	{
		var password=document.getElementById("pwd_txt");
		var pwdHideShowIcon=document.getElementById("pwdHideShowIcon");
		if(password.type==="text")
		{
			pwdHideShowIcon.className="fa fa-eye-slash";
			pwdHideShowIcon.title="Show password";
			password.type="password";						
		}
		else
		{
			pwdHideShowIcon.className="fa fa-eye";			
			pwdHideShowIcon.title="Hide password";
			password.type="text";
		}
	}
	
	/**HIDE AND SHOW CONFIRM PASSWORD VALUE */
	function hideShow_cpwd()
	{
		var cpassword=document.getElementById("cpwd_txt");
		var cpwdHideShowIcon=document.getElementById("cpwdHideShowIcon");
		if(cpassword.type==="text")
		{
			cpwdHideShowIcon.className="fa fa-eye-slash";
			cpwdHideShowIcon.title="Show confirm password";
			cpassword.type="password";
			
			
		}
		else
		{
			cpwdHideShowIcon.className="fa fa-eye";			
			cpwdHideShowIcon.title="Hide confirm password";
			cpassword.type="text";
		}
	}
	
	function match()
	{
		var pwd=document.getElementById("pwd_txt").value;
		var cpwd=document.getElementById("cpwd_txt").value;
		if(pwd===cpwd)
		{
			document.getElementById("errorcpwd").textContent="Match";
			document.getElementById("errorcpwd").style.color="green";
			return true;
		}
		else
		{
			document.getElementById("errorcpwd").style.color="red";
			//document.getElementById("errorcpwd").textContent="Passwords do not match";
			return false;
		}
	}
	
	function getAge(bday)
	{
		var today=new Date();
		var birthday=new Date(bday);
		var age=today.getFullYear()-birthday.getFullYear();
		var month=today.getMonth()-birthday.getMonth();
		var day=today.getDate()-birthday.getDate();
		if(age<=6)
		{
			return age;
		}
		if(month<0 || ((month===0)&&(date<0)))
		{
			age=age-1;
		}
		return age;
	}
	
	function changeForm()
	{
		var role=document.getElementById("role_select").value;
		var AeriForm=document.getElementsByClassName("changeRoleForm1");
		if(role=="Staff")
		{		
			for(var i=0; i<AeriForm.length; i++)
			{
				AeriForm[i].style.display="none";
			}
			document.getElementById("errorusername").textContent="";
			document.getElementById("errorpwd").textContent="";
			document.getElementById("errorcpwd").textContent="";
			
		}
		else
		{
			for(var i=0; i<AeriForm.length; i++)
			{
				AeriForm[i].style.display="block";
			}
			document.getElementById("errorfname").textContent="";
			document.getElementById("errorlname").textContent="";
			document.getElementById("erroremail").textContent="";
			document.getElementById("errorbday").textContent="";
			document.getElementById("errorusername").textContent="";
			document.getElementById("errorpwd").textContent="";
			document.getElementById("errorcpwd").textContent="";
		}
	}
	
	function validateEmail(email)
	{
		var email=document.getElementById("email_txt").value;
		var filter=/^([a-zA-Z0-9_\.\-])+\@(([A-Za-z0-9\-])+\.)+([a-zA-z0-9]{2,4})+$/;
		
		if(!filter.test(email))
		{
			return false;
		}
		else
		{
			return true;
		}
	}
	
	function validate()
	{ 
		//var forms=document.getElementsByClassName('needs-validation');
		var username=document.getElementById("username_txt").value;
		var pwd=document.getElementById("pwd_txt").value;
		var cpwd=document.getElementById("cpwd_txt").value;
		
		var role=document.getElementById("role_select").value;
		
		var returnValue;
		
		if(role=="Aeri")
		{
			var fname=document.getElementById("fname_txt").value;
			var lname=document.getElementById("lname_txt").value;
			var email=document.getElementById("email_txt").value;
			var bday=document.getElementById("bday_txt").value;
			
			if((fname=="")||(lname=="")||(email=="")||(username=="")||(pwd=="")||(cpwd==""))
			{
				if(fname=="")
				{
					document.getElementById("errorfname").textContent="Please enter First Name";
				}
				if(lname=="")
				{
					document.getElementById("errorlname").textContent="Please enter Last Name";
				}
				if(email=="")
				{
					document.getElementById("erroremail").textContent="Please enter email";
				}
				if(username=="")
				{
					document.getElementById("errorusername").textContent="Please enter username";
				}
				if(pwd=="")
				{
					document.getElementById("errorpwd").textContent="Please enter Password";
				}
				if(cpwd=="")
				{
					document.getElementById("errorcpwd").textContent="Please enter Confirm Password";
				}
				returnValue=false;
				return returnValue;
			}
			if((!fname=="")||(!lname=="")||(!email=="")||(!bday=="")||(!username=="")||(!pwd=="")||(!cpwd==""))
			{
				if(!fname=="")
				{	
					var alphabet=/^[A-Za-z]+$/;
					
					if(!fname.match(alphabet))
					{
						document.getElementById("errorfname").textContent="Please enter letters only";
						returnValue=false;
					}
				}
				if(!lname=="")
				{	
					var alphabet=/^[A-Za-z]+$/;
					
					if(!lname.match(alphabet))
					{
						document.getElementById("errorlname").textContent="Please enter letters only";
						returnValue=false;
					}
				}
				if(!email=="")
				{
					if(!validateEmail(email))
					{
						document.getElementById("erroremail").textContent="Please enter valid email";
						returnValue=false;
					}
				}			
				if(!bday=="")
				{
					var age=getAge(bday);
					if(age<7)
					{
						document.getElementById("errorbday").textContent="You have to be above age 6";
						returnValue=false;
					}
				}
				if(!username=="")
				{
					var alphanumericunderscore=/^[A-Za-z0-9_]+$/;
						
					if(!username.match(alphanumericunderscore))
					{
						document.getElementById("errorusername").textContent="Please enter only letters,numbers,underscore";
						returnValue=false;
					}
					if(username.length>15)
					{
						document.getElementById("errorusername").textContent="Please enter less than 16 characters";
						returnValue=false;
					}
				}
				if(!pwd=="")
				{
					if(pwd.length<8)
					{
						document.getElementById("errorpwd").textContent="Please enter 8 or more characters";
						returnValue=false;
					}
				}
				if((!pwd=="")&&(!cpwd==""))
				{
					if(!match())
					{
						document.getElementById("errorcpwd").textContent="Passwords do not match";
						returnValue=false;
					}
				}
				else
				{
					returnValue=true;
				}
				alert(returnValue);
				return returnValue;
			}
			
		}
		else
		{
			if((username=="")||(pwd=="")||(cpwd==""))
			{
				if(username=="")
				{
					document.getElementById("errorusername").textContent="Please enter username";
				}
				if(pwd=="")
				{
					document.getElementById("errorpwd").textContent="Please enter Password";
				}
				if(cpwd=="")
				{
					document.getElementById("errorcpwd").textContent="Please enter Confirm Password";
				}
				returnValue=false;
				return returnValue;
			}
			else if((!username=="")||(!pwd=="")||(!cpwd==""))
			{
				if(!username=="")
				{
					var alphanumericunderscore=/^[A-Za-z0-9_]+$/;
						
					if(!username.match(alphanumericunderscore))
					{
						document.getElementById("errorusername").textContent="Please enter only letters,numbers,underscore";
						returnValue=false;
					}
					if(username.length>15)
					{
						document.getElementById("errorusername").textContent="Please enter less than 16 characters";
						returnValue=false;
					}
				}
				if(!pwd=="")
				{
					if(pwd.length<8)
					{
						document.getElementById("errorpwd").textContent="Please enter 8 or more characters";
						returnValue=false;
					}
				}
				if((!pwd=="")&&(!cpwd==""))
				{
					if(!match())
					{
						document.getElementById("errorcpwd").textContent="Passwords do not match";
						returnValue=false;
					}
				}
				else
				{
					returnValue=true;
				}
				alert(returnValue);
				return returnValue;
			}
		}
	
	}
</script>

</body>
</html>

